<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Test Eshop</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
</head>
<body>
	
	<section class="hero is-info is-small">
		<div class="hero-body">
			<div class="container is-max-desktop">
				<h1 class="title">
					<a href="../">Test Eshop</a>
				</h1>
			</div>
		</div>
	</section>
	
	<section class="section">
		
		<div class="container is-max-desktop content">
			
			<h2>
				&#x1f973 Order Placed Successfully! Thank You! &#x1f64f
			</h2>
			
			<div class="content">
				<div class="has-text-right mt-5 mb-3 pt-2">
					<a href="../" class="button is-info has-text-weight-semibold">Go To Homepage<i class="fas fa-home pl-2"></i></a>
				</div>
			</div>
			
		</div>
		
		<div class="container is-max-desktop">
			<div class="card is-shadowless">
				
				<header class="card-header is-shadowless">
					<a class="card-header-icon card-toggle"><i class="fas fa-angle-down"></i></a>
					<p class="card-header-title pl-0">More Info (ybh-api development)</p>
					<p class="card-header-title pl-0 is-hidden">Less Info</p>
				</header>
				
				<div class="card-content pt-0 is-hidden">
					<div class="content notification">
						<div class="columns mt-2 mb-4	">
							<div class="column"></div>
							<div class="column is-narrow">
								<article class="message">
									<div id="ybh-ref-msg" class="message-body px-5 py-3 has-text-centered is-size-5 has-text-weight-semibold"></div>
								</article>
							</div>
							<div class="column"></div>
						</div>
						<p>When this page loads, if there is ybh-referral data in localStorage, this data is sent (along with the purchase details) to youbehero via tracking pixel (in the queryString parameters). The referral data is then cleared from localStorage (So the notification above will always be red, because the data will have already been cleared). You can check the developer's console to see the url that was used for the tracking pixel request. If nothing shows, the tracking pixel wasn't requested, i.e. the purchase wasn't from a ybh referral.</p>
					</div>
				</div>
				
			</div>
		</div>
		
	</section>
	
	<!-- page's main script -->
	<script>
	</script>
	
	<!-- ybh referral & tracking client side script -->
	<script src="../../ybh-client.js"></script>
	
	<!-- script for "ybh-api" development section -->
	<script>
		
		document.addEventListener( "DOMContentLoaded" , function() {
			
			const ybhRefMsg = document.querySelector( "#ybh-ref-msg" ) ;
			const cardToggles = document.querySelectorAll( ".card-toggle" ) ;
			
			if ( localStorage.getItem( "ybh-referral" ) ) {
				ybhRefMsg.textContent = "(YouBeHero Referral Data Detected)" ;
				ybhRefMsg.parentElement.classList.add( "is-success" ) ;
			} else {
				ybhRefMsg.textContent = "(No YouBeHero Referral Data Detected)" ;
				ybhRefMsg.parentElement.classList.add( "is-danger" ) ;
			}
			
			for ( let i = 0 ; i < cardToggles.length ; i++ ) {
				cardToggles[ i ].addEventListener( "click" , e => {
					e.currentTarget.parentElement.parentElement.children[ 1 ].classList.toggle( "is-hidden" ) ;
					e.currentTarget.children[ 0 ].classList.toggle( "fa-angle-down" ) ;
					e.currentTarget.children[ 0 ].classList.toggle( "fa-angle-up" ) ;
					e.currentTarget.parentElement.children[ 1 ].classList.toggle( "is-hidden" ) ;
					e.currentTarget.parentElement.children[ 2 ].classList.toggle( "is-hidden" ) ;
				} ) ;
			}
			
		} ) ;
	</script>
	
</body>
</html>